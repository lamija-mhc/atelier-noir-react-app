{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\muki_\\\\atelier-noir\\\\client\\\\src\\\\components\\\\counter.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nfunction Counter({\n  target,\n  duration = 2000\n}) {\n  const [count, setCount] = useState(0);\n  const ref = useRef();\n  const started = useRef(false);\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting && !started.current) {\n        started.current = true;\n        let start = 0;\n        const end = parseFloat(target);\n        const stepTime = Math.abs(Math.floor(duration / end));\n        const timer = setInterval(() => {\n          start += 1;\n          setCount(prev => {\n            if (start >= end) {\n              clearInterval(timer);\n              return end;\n            }\n            return start;\n          });\n        }, stepTime);\n      }\n    }, {\n      threshold: 0.5\n    });\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      if (ref.current) {\n        observer.unobserve(ref.current);\n      }\n    };\n  }, [target, duration]);\n  return /*#__PURE__*/React.createElement(\"strong\", {\n    ref: ref,\n    className: \"counter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, Number.isInteger(target) ? Math.floor(count) : count.toFixed(1));\n}\nexport default Counter;","map":{"version":3,"names":["React","useState","useEffect","useRef","Counter","target","duration","count","setCount","ref","started","observer","IntersectionObserver","entry","isIntersecting","current","start","end","parseFloat","stepTime","Math","abs","floor","timer","setInterval","prev","clearInterval","threshold","observe","unobserve","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Number","isInteger","toFixed"],"sources":["C:/Users/muki_/atelier-noir/client/src/components/counter.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nfunction Counter({ target, duration = 2000 }) {\r\n  const [count, setCount] = useState(0);\r\n  const ref = useRef();\r\n  const started = useRef(false);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting && !started.current) {\r\n          started.current = true;\r\n          let start = 0;\r\n          const end = parseFloat(target);\r\n          const stepTime = Math.abs(Math.floor(duration / end));\r\n\r\n          const timer = setInterval(() => {\r\n            start += 1;\r\n            setCount((prev) => {\r\n              if (start >= end) {\r\n                clearInterval(timer);\r\n                return end;\r\n              }\r\n              return start;\r\n            });\r\n          }, stepTime);\r\n        }\r\n      },\r\n      { threshold: 0.5 }\r\n    );\r\n\r\n    if (ref.current) {\r\n      observer.observe(ref.current);\r\n    }\r\n\r\n    return () => {\r\n      if (ref.current) {\r\n        observer.unobserve(ref.current);\r\n      }\r\n    };\r\n  }, [target, duration]);\r\n\r\n  return (\r\n    <strong ref={ref} className=\"counter\">\r\n      {Number.isInteger(target) ? Math.floor(count) : count.toFixed(1)}\r\n    </strong>\r\n  );\r\n}\r\n\r\nexport default Counter;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAE1D,SAASC,OAAOA,CAAC;EAAEC,MAAM;EAAEC,QAAQ,GAAG;AAAK,CAAC,EAAE;EAC5C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAMQ,GAAG,GAAGN,MAAM,CAAC,CAAC;EACpB,MAAMO,OAAO,GAAGP,MAAM,CAAC,KAAK,CAAC;EAE7BD,SAAS,CAAC,MAAM;IACd,MAAMS,QAAQ,GAAG,IAAIC,oBAAoB,CACvC,CAAC,CAACC,KAAK,CAAC,KAAK;MACX,IAAIA,KAAK,CAACC,cAAc,IAAI,CAACJ,OAAO,CAACK,OAAO,EAAE;QAC5CL,OAAO,CAACK,OAAO,GAAG,IAAI;QACtB,IAAIC,KAAK,GAAG,CAAC;QACb,MAAMC,GAAG,GAAGC,UAAU,CAACb,MAAM,CAAC;QAC9B,MAAMc,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,KAAK,CAAChB,QAAQ,GAAGW,GAAG,CAAC,CAAC;QAErD,MAAMM,KAAK,GAAGC,WAAW,CAAC,MAAM;UAC9BR,KAAK,IAAI,CAAC;UACVR,QAAQ,CAAEiB,IAAI,IAAK;YACjB,IAAIT,KAAK,IAAIC,GAAG,EAAE;cAChBS,aAAa,CAACH,KAAK,CAAC;cACpB,OAAON,GAAG;YACZ;YACA,OAAOD,KAAK;UACd,CAAC,CAAC;QACJ,CAAC,EAAEG,QAAQ,CAAC;MACd;IACF,CAAC,EACD;MAAEQ,SAAS,EAAE;IAAI,CACnB,CAAC;IAED,IAAIlB,GAAG,CAACM,OAAO,EAAE;MACfJ,QAAQ,CAACiB,OAAO,CAACnB,GAAG,CAACM,OAAO,CAAC;IAC/B;IAEA,OAAO,MAAM;MACX,IAAIN,GAAG,CAACM,OAAO,EAAE;QACfJ,QAAQ,CAACkB,SAAS,CAACpB,GAAG,CAACM,OAAO,CAAC;MACjC;IACF,CAAC;EACH,CAAC,EAAE,CAACV,MAAM,EAAEC,QAAQ,CAAC,CAAC;EAEtB,oBACEN,KAAA,CAAA8B,aAAA;IAAQrB,GAAG,EAAEA,GAAI;IAACsB,SAAS,EAAC,SAAS;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAClCC,MAAM,CAACC,SAAS,CAAClC,MAAM,CAAC,GAAGe,IAAI,CAACE,KAAK,CAACf,KAAK,CAAC,GAAGA,KAAK,CAACiC,OAAO,CAAC,CAAC,CACzD,CAAC;AAEb;AAEA,eAAepC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}