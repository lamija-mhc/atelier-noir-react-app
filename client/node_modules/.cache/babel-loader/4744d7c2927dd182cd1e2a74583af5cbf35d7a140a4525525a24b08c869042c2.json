{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import\"../css/style.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const navigate=useNavigate();const[isLoggedIn,setIsLoggedIn]=useState(false);const[isAdmin,setIsAdmin]=useState(false);const[menuActive,setMenuActive]=useState(false);useEffect(()=>{const user=JSON.parse(localStorage.getItem(\"user\"));setIsLoggedIn(!!user);// Promijeni email na onaj kojim se loguješ kao admin\nsetIsAdmin((user===null||user===void 0?void 0:user.role)===\"admin\");},[]);const handleLogout=()=>{localStorage.removeItem(\"user\");setIsLoggedIn(false);setIsAdmin(false);navigate(\"/\");// vrati na početnu\n};const toggleMenu=()=>setMenuActive(!menuActive);return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar \".concat(menuActive?\"active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-group\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-links\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:()=>setMenuActive(false),children:\"Po\\u010Detna\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/onama\",onClick:()=>setMenuActive(false),children:\"O nama\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/ponuda\",onClick:()=>setMenuActive(false),children:\"Ponuda\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/kontakt\",onClick:()=>setMenuActive(false),children:\"Kontakt\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-buttons\",children:!isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/log-in\",className:\"btn\",onClick:()=>setMenuActive(false),children:\"Prijava\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",className:\"btn primary\",onClick:()=>setMenuActive(false),children:\"Registracija\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[isAdmin?/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"btn\",onClick:()=>setMenuActive(false),children:\"Admin\"}):/*#__PURE__*/_jsx(Link,{to:\"/korpa\",className:\"btn\",onClick:()=>setMenuActive(false),children:\"Korpa\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn\",children:\"Odjava\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"hamburger\",onClick:toggleMenu,children:\"\\u2630\"})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","navigate","isLoggedIn","setIsLoggedIn","isAdmin","setIsAdmin","menuActive","setMenuActive","user","JSON","parse","localStorage","getItem","role","handleLogout","removeItem","toggleMenu","className","concat","children","to","onClick"],"sources":["C:/Users/muki_/atelier-noir/client/src/components/navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport \"../css/style.css\";\r\n\r\nconst Navbar = () => {\r\n  const navigate = useNavigate();\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [menuActive, setMenuActive] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    setIsLoggedIn(!!user);\r\n    // Promijeni email na onaj kojim se loguješ kao admin\r\n    setIsAdmin(user?.role === \"admin\");\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"user\");\r\n    setIsLoggedIn(false);\r\n    setIsAdmin(false);\r\n    navigate(\"/\"); // vrati na početnu\r\n  };\r\n\r\n  const toggleMenu = () => setMenuActive(!menuActive);\r\n\r\n  return (\r\n    <nav className={`navbar ${menuActive ? \"active\" : \"\"}`}>\r\n      <div className=\"left-group\">\r\n        <ul className=\"nav-links\">\r\n          <li><Link to=\"/\" onClick={() => setMenuActive(false)}>Početna</Link></li>\r\n          <li><Link to=\"/onama\" onClick={() => setMenuActive(false)}>O nama</Link></li>\r\n          <li><Link to=\"/ponuda\" onClick={() => setMenuActive(false)}>Ponuda</Link></li>\r\n          <li><Link to=\"/kontakt\" onClick={() => setMenuActive(false)}>Kontakt</Link></li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"auth-buttons\">\r\n        {!isLoggedIn ? (\r\n          <>\r\n            <Link to=\"/log-in\" className=\"btn\" onClick={() => setMenuActive(false)}>Prijava</Link>\r\n            <Link to=\"/sign-up\" className=\"btn primary\" onClick={() => setMenuActive(false)}>Registracija</Link>\r\n          </>\r\n        ) : (\r\n          <>\r\n            {isAdmin ? (\r\n              <Link to=\"/admin\" className=\"btn\" onClick={() => setMenuActive(false)}>Admin</Link>\r\n            ) : (\r\n              <Link to=\"/korpa\" className=\"btn\" onClick={() => setMenuActive(false)}>Korpa</Link>\r\n            )}\r\n            <button onClick={handleLogout} className=\"btn\">Odjava</button>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"hamburger\" onClick={toggleMenu}>\r\n        &#9776;\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}