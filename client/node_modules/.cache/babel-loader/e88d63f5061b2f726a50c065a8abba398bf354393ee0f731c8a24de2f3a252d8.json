{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import\"../css/style.css\";import{useLocation}from\"react-router-dom\";const location=useLocation();useEffect(()=>{const user=JSON.parse(localStorage.getItem(\"user\"));setIsLoggedIn(!!user);setIsAdmin((user===null||user===void 0?void 0:user.role)===\"admin\");},[location]);import{NavLink}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:_ref=>{let{isActive}=_ref;return isActive?\"active\":\"\";},children:\"Po\\u010Detna\"});const Navbar=()=>{const navigate=useNavigate();const[isLoggedIn,setIsLoggedIn]=useState(false);const[isAdmin,setIsAdmin]=useState(false);const[menuActive,setMenuActive]=useState(false);useEffect(()=>{const user=JSON.parse(localStorage.getItem(\"user\"));setIsLoggedIn(!!user);// Promijeni email na onaj kojim se loguješ kao admin\nsetIsAdmin((user===null||user===void 0?void 0:user.role)===\"admin\");},[]);const handleLogout=()=>{localStorage.removeItem(\"user\");setIsLoggedIn(false);setIsAdmin(false);navigate(\"/\");// vrati na početnu\n};const toggleMenu=()=>setMenuActive(!menuActive);return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar \".concat(menuActive?\"active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-group\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-links\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:()=>setMenuActive(false),children:\"Po\\u010Detna\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/o_nama\",onClick:()=>setMenuActive(false),children:\"O nama\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/ponuda\",onClick:()=>setMenuActive(false),children:\"Ponuda\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/kontakt\",onClick:()=>setMenuActive(false),children:\"Kontakt\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-buttons\",children:!isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/log-in\",className:\"btn\",onClick:()=>setMenuActive(false),children:\"Prijava\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",className:\"btn primary\",onClick:()=>setMenuActive(false),children:\"Registracija\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[isAdmin?/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"btn\",onClick:()=>setMenuActive(false),children:\"Admin\"}):/*#__PURE__*/_jsx(Link,{to:\"/korpa\",className:\"btn\",onClick:()=>setMenuActive(false),children:\"Korpa\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn\",children:\"Odjava\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"hamburger\",onClick:toggleMenu,children:\"\\u2630\"})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","location","user","JSON","parse","localStorage","getItem","setIsLoggedIn","setIsAdmin","role","NavLink","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","to","className","_ref","isActive","children","Navbar","navigate","isLoggedIn","isAdmin","menuActive","setMenuActive","handleLogout","removeItem","toggleMenu","concat","onClick"],"sources":["C:/Users/muki_/atelier-noir/client/src/components/navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport \"../css/style.css\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst location = useLocation();\r\n\r\nuseEffect(() => {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  setIsLoggedIn(!!user);\r\n  setIsAdmin(user?.role === \"admin\");\r\n}, [location]);\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n<NavLink to=\"/\" className={({ isActive }) => isActive ? \"active\" : \"\"}>Početna</NavLink>\r\n\r\nconst Navbar = () => {\r\n  const navigate = useNavigate();\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [menuActive, setMenuActive] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    setIsLoggedIn(!!user);\r\n    // Promijeni email na onaj kojim se loguješ kao admin\r\n    setIsAdmin(user?.role === \"admin\");\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"user\");\r\n    setIsLoggedIn(false);\r\n    setIsAdmin(false);\r\n    navigate(\"/\"); // vrati na početnu\r\n  };\r\n\r\n  const toggleMenu = () => setMenuActive(!menuActive);\r\n\r\n  return (\r\n    <nav className={`navbar ${menuActive ? \"active\" : \"\"}`}>\r\n      <div className=\"left-group\">\r\n        <ul className=\"nav-links\">\r\n          <li><Link to=\"/\" onClick={() => setMenuActive(false)}>Početna</Link></li>\r\n          <li><Link to=\"/o_nama\" onClick={() => setMenuActive(false)}>O nama</Link></li>\r\n          <li><Link to=\"/ponuda\" onClick={() => setMenuActive(false)}>Ponuda</Link></li>\r\n          <li><Link to=\"/kontakt\" onClick={() => setMenuActive(false)}>Kontakt</Link></li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"auth-buttons\">\r\n        {!isLoggedIn ? (\r\n          <>\r\n            <Link to=\"/log-in\" className=\"btn\" onClick={() => setMenuActive(false)}>Prijava</Link>\r\n            <Link to=\"/sign-up\" className=\"btn primary\" onClick={() => setMenuActive(false)}>Registracija</Link>\r\n          </>\r\n        ) : (\r\n          <>\r\n            {isAdmin ? (\r\n              <Link to=\"/admin\" className=\"btn\" onClick={() => setMenuActive(false)}>Admin</Link>\r\n            ) : (\r\n              <Link to=\"/korpa\" className=\"btn\" onClick={() => setMenuActive(false)}>Korpa</Link>\r\n            )}\r\n            <button onClick={handleLogout} className=\"btn\">Odjava</button>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"hamburger\" onClick={toggleMenu}>\r\n        &#9776;\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}