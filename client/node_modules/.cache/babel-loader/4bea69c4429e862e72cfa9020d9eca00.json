{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\muki_\\\\atelier-noir\\\\client\\\\src\\\\components\\\\navbar.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport \"../css/style.css\";\nconst Navbar = ({\n  isLoggedIn = false,\n  setIsLoggedIn,\n  isAdmin = false,\n  setIsAdmin\n}) => {\n  const [navActive, setNavActive] = useState(false);\n  const location = useLocation();\n  useEffect(() => {\n    // Postavi admin status na osnovu rute\n    if (setIsAdmin) {\n      if (location.pathname.startsWith(\"/admin\")) {\n        setIsAdmin(true);\n      } else {\n        setIsAdmin(false);\n      }\n    }\n\n    // Provjeri da li postoji token u localStorage\n    const korisnik = JSON.parse(localStorage.getItem(\"korisnik\"));\n    if (setIsLoggedIn) {\n      if (korisnik && korisnik.token) {\n        setIsLoggedIn(true);\n        if (korisnik.isAdmin) setIsAdmin(true);\n      } else {\n        setIsLoggedIn(false);\n        setIsAdmin(false);\n      }\n    }\n  }, [location, setIsAdmin, setIsLoggedIn]);\n  const toggleNav = () => setNavActive(!navActive);\n  const closeNav = () => setNavActive(false);\n  function logout() {\n    localStorage.removeItem(\"korisnik\");\n    if (setIsLoggedIn) setIsLoggedIn(false);\n    if (setIsAdmin) setIsAdmin(false);\n    closeNav();\n  }\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    className: `navbar ${navActive ? \"active\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hamburger\",\n    onClick: toggleNav,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"\\u2630\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Atelier Noir\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"nav-links\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    onClick: closeNav,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, \"Po\\u010Detna\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/o_nama\",\n    onClick: closeNav,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, \"O nama\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/ponuda\",\n    onClick: closeNav,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, \"Ponuda\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/kontakt\",\n    onClick: closeNav,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, \"Kontakt\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, !isLoggedIn ? /*#__PURE__*/React.createElement(Link, {\n    to: \"/sign-up\",\n    onClick: closeNav,\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"Registracija\") : /*#__PURE__*/React.createElement(React.Fragment, null, isAdmin ? /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin\",\n    onClick: closeNav,\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, \"Admin Panel\") : /*#__PURE__*/React.createElement(Link, {\n    to: \"/korpa\",\n    onClick: closeNav,\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, \"Korpa\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logout,\n    className: \"btn logout-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Odjava\"))));\n};\nexport default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","Navbar","isLoggedIn","setIsLoggedIn","isAdmin","setIsAdmin","navActive","setNavActive","location","pathname","startsWith","korisnik","JSON","parse","localStorage","getItem","token","toggleNav","closeNav","logout","removeItem","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","to","Fragment"],"sources":["C:/Users/muki_/atelier-noir/client/src/components/navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport \"../css/style.css\";\r\n\r\nconst Navbar = ({ isLoggedIn = false, setIsLoggedIn, isAdmin = false, setIsAdmin }) => {\r\n  const [navActive, setNavActive] = useState(false);\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    // Postavi admin status na osnovu rute\r\n    if (setIsAdmin) {\r\n      if (location.pathname.startsWith(\"/admin\")) {\r\n        setIsAdmin(true);\r\n      } else {\r\n        setIsAdmin(false);\r\n      }\r\n    }\r\n\r\n    // Provjeri da li postoji token u localStorage\r\n    const korisnik = JSON.parse(localStorage.getItem(\"korisnik\"));\r\n    if (setIsLoggedIn) {\r\n      if (korisnik && korisnik.token) {\r\n        setIsLoggedIn(true);\r\n        if (korisnik.isAdmin) setIsAdmin(true);\r\n      } else {\r\n        setIsLoggedIn(false);\r\n        setIsAdmin(false);\r\n      }\r\n    }\r\n  }, [location, setIsAdmin, setIsLoggedIn]);\r\n\r\n  const toggleNav = () => setNavActive(!navActive);\r\n  const closeNav = () => setNavActive(false);\r\n\r\n  function logout() {\r\n    localStorage.removeItem(\"korisnik\");\r\n    if (setIsLoggedIn) setIsLoggedIn(false);\r\n    if (setIsAdmin) setIsAdmin(false);\r\n    closeNav();\r\n  }\r\n\r\n  return (\r\n    <nav className={`navbar ${navActive ? \"active\" : \"\"}`}>\r\n      <div className=\"hamburger\" onClick={toggleNav}>\r\n        &#9776;\r\n      </div>\r\n\r\n      <div className=\"left-group\">\r\n        <div className=\"logo\">Atelier Noir</div>\r\n        <ul className=\"nav-links\">\r\n          <li><Link to=\"/\" onClick={closeNav}>Poƒçetna</Link></li>\r\n          <li><Link to=\"/o_nama\" onClick={closeNav}>O nama</Link></li>\r\n          <li><Link to=\"/ponuda\" onClick={closeNav}>Ponuda</Link></li>\r\n          <li><Link to=\"/kontakt\" onClick={closeNav}>Kontakt</Link></li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"auth-buttons\">\r\n        {!isLoggedIn ? (\r\n          <Link to=\"/sign-up\" onClick={closeNav} className=\"btn\">Registracija</Link>\r\n        ) : (\r\n          <>\r\n            {isAdmin ? (\r\n              <Link to=\"/admin\" onClick={closeNav} className=\"btn\">Admin Panel</Link>\r\n            ) : (\r\n              <Link to=\"/korpa\" onClick={closeNav} className=\"btn\">Korpa</Link>\r\n            )}\r\n            <button onClick={logout} className=\"btn logout-btn\">Odjava</button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,OAAO,kBAAkB;AAEzB,MAAMC,MAAM,GAAGA,CAAC;EAAEC,UAAU,GAAG,KAAK;EAAEC,aAAa;EAAEC,OAAO,GAAG,KAAK;EAAEC;AAAW,CAAC,KAAK;EACrF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMW,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd;IACA,IAAIO,UAAU,EAAE;MACd,IAAIG,QAAQ,CAACC,QAAQ,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;QAC1CL,UAAU,CAAC,IAAI,CAAC;MAClB,CAAC,MAAM;QACLA,UAAU,CAAC,KAAK,CAAC;MACnB;IACF;;IAEA;IACA,MAAMM,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;IAC7D,IAAIZ,aAAa,EAAE;MACjB,IAAIQ,QAAQ,IAAIA,QAAQ,CAACK,KAAK,EAAE;QAC9Bb,aAAa,CAAC,IAAI,CAAC;QACnB,IAAIQ,QAAQ,CAACP,OAAO,EAAEC,UAAU,CAAC,IAAI,CAAC;MACxC,CAAC,MAAM;QACLF,aAAa,CAAC,KAAK,CAAC;QACpBE,UAAU,CAAC,KAAK,CAAC;MACnB;IACF;EACF,CAAC,EAAE,CAACG,QAAQ,EAAEH,UAAU,EAAEF,aAAa,CAAC,CAAC;EAEzC,MAAMc,SAAS,GAAGA,CAAA,KAAMV,YAAY,CAAC,CAACD,SAAS,CAAC;EAChD,MAAMY,QAAQ,GAAGA,CAAA,KAAMX,YAAY,CAAC,KAAK,CAAC;EAE1C,SAASY,MAAMA,CAAA,EAAG;IAChBL,YAAY,CAACM,UAAU,CAAC,UAAU,CAAC;IACnC,IAAIjB,aAAa,EAAEA,aAAa,CAAC,KAAK,CAAC;IACvC,IAAIE,UAAU,EAAEA,UAAU,CAAC,KAAK,CAAC;IACjCa,QAAQ,CAAC,CAAC;EACZ;EAEA,oBACEtB,KAAA,CAAAyB,aAAA;IAAKC,SAAS,EAAE,UAAUhB,SAAS,GAAG,QAAQ,GAAG,EAAE,EAAG;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACpDhC,KAAA,CAAAyB,aAAA;IAAKC,SAAS,EAAC,WAAW;IAACO,OAAO,EAAEZ,SAAU;IAAAM,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAE1C,CAAC,eAENhC,KAAA,CAAAyB,aAAA;IAAKC,SAAS,EAAC,YAAY;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzBhC,KAAA,CAAAyB,aAAA;IAAKC,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAAiB,CAAC,eACxChC,KAAA,CAAAyB,aAAA;IAAIC,SAAS,EAAC,WAAW;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvBhC,KAAA,CAAAyB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAIhC,KAAA,CAAAyB,aAAA,CAACtB,IAAI;IAAC+B,EAAE,EAAC,GAAG;IAACD,OAAO,EAAEX,QAAS;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAAa,CAAK,CAAC,eACvDhC,KAAA,CAAAyB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAIhC,KAAA,CAAAyB,aAAA,CAACtB,IAAI;IAAC+B,EAAE,EAAC,SAAS;IAACD,OAAO,EAAEX,QAAS;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAY,CAAK,CAAC,eAC5DhC,KAAA,CAAAyB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAIhC,KAAA,CAAAyB,aAAA,CAACtB,IAAI;IAAC+B,EAAE,EAAC,SAAS;IAACD,OAAO,EAAEX,QAAS;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAY,CAAK,CAAC,eAC5DhC,KAAA,CAAAyB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAIhC,KAAA,CAAAyB,aAAA,CAACtB,IAAI;IAAC+B,EAAE,EAAC,UAAU;IAACD,OAAO,EAAEX,QAAS;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,SAAa,CAAK,CAC3D,CACD,CAAC,eAENhC,KAAA,CAAAyB,aAAA;IAAKC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC1B,CAAC1B,UAAU,gBACVN,KAAA,CAAAyB,aAAA,CAACtB,IAAI;IAAC+B,EAAE,EAAC,UAAU;IAACD,OAAO,EAAEX,QAAS;IAACI,SAAS,EAAC,KAAK;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAAkB,CAAC,gBAE1EhC,KAAA,CAAAyB,aAAA,CAAAzB,KAAA,CAAAmC,QAAA,QACG3B,OAAO,gBACNR,KAAA,CAAAyB,aAAA,CAACtB,IAAI;IAAC+B,EAAE,EAAC,QAAQ;IAACD,OAAO,EAAEX,QAAS;IAACI,SAAS,EAAC,KAAK;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,aAAiB,CAAC,gBAEvEhC,KAAA,CAAAyB,aAAA,CAACtB,IAAI;IAAC+B,EAAE,EAAC,QAAQ;IAACD,OAAO,EAAEX,QAAS;IAACI,SAAS,EAAC,KAAK;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAAW,CACjE,eACDhC,KAAA,CAAAyB,aAAA;IAAQQ,OAAO,EAAEV,MAAO;IAACG,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAc,CAClE,CAED,CACF,CAAC;AAEV,CAAC;AAED,eAAe3B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}