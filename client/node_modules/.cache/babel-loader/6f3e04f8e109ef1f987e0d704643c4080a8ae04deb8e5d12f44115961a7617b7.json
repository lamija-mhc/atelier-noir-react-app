{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\muki_\\\\atelier-noir\\\\client\\\\src\\\\components\\\\counter.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Counter({\n  target,\n  duration = 2000,\n  start = 0\n}) {\n  _s();\n  const [count, setCount] = useState(start);\n  const ref = useRef();\n  const started = useRef(false);\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting && !started.current) {\n        started.current = true;\n        let current = start;\n        const end = parseFloat(target);\n        const totalSteps = Math.abs(end - start);\n        const stepTime = Math.abs(Math.floor(duration / totalSteps));\n        const timer = setInterval(() => {\n          current += 1;\n          setCount(() => {\n            if (current >= end) {\n              clearInterval(timer);\n              return end;\n            }\n            return current;\n          });\n        }, stepTime);\n      }\n    }, {\n      threshold: 0.5\n    });\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      if (ref.current) {\n        observer.unobserve(ref.current);\n      }\n    };\n  }, [target, duration, start]);\n  return /*#__PURE__*/_jsxDEV(\"strong\", {\n    ref: ref,\n    className: \"counter\",\n    children: Number.isInteger(target) ? Math.floor(count) : count.toFixed(1)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(Counter, \"xtH5ZcW46DDx7z6NgAaOrwNMtj4=\");\n_c = Counter;\nexport default Counter;\nvar _c;\n$RefreshReg$(_c, \"Counter\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Counter","target","duration","start","_s","count","setCount","ref","started","observer","IntersectionObserver","entry","isIntersecting","current","end","parseFloat","totalSteps","Math","abs","stepTime","floor","timer","setInterval","clearInterval","threshold","observe","unobserve","className","children","Number","isInteger","toFixed","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/muki_/atelier-noir/client/src/components/counter.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nfunction Counter({ target, duration = 2000, start = 0 }) {\r\n  const [count, setCount] = useState(start);\r\n  const ref = useRef();\r\n  const started = useRef(false);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting && !started.current) {\r\n          started.current = true;\r\n          let current = start;\r\n          const end = parseFloat(target);\r\n          const totalSteps = Math.abs(end - start);\r\n          const stepTime = Math.abs(Math.floor(duration / totalSteps));\r\n\r\n          const timer = setInterval(() => {\r\n            current += 1;\r\n            setCount(() => {\r\n              if (current >= end) {\r\n                clearInterval(timer);\r\n                return end;\r\n              }\r\n              return current;\r\n            });\r\n          }, stepTime);\r\n        }\r\n      },\r\n      { threshold: 0.5 }\r\n    );\r\n\r\n    if (ref.current) {\r\n      observer.observe(ref.current);\r\n    }\r\n\r\n    return () => {\r\n      if (ref.current) {\r\n        observer.unobserve(ref.current);\r\n      }\r\n    };\r\n  }, [target, duration, start]);\r\n\r\n  return (\r\n    <strong ref={ref} className=\"counter\">\r\n      {Number.isInteger(target) ? Math.floor(count) : count.toFixed(1)}\r\n    </strong>\r\n  );\r\n}\r\n\r\n\r\nexport default Counter;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,SAASC,OAAOA,CAAC;EAAEC,MAAM;EAAEC,QAAQ,GAAG,IAAI;EAAEC,KAAK,GAAG;AAAE,CAAC,EAAE;EAAAC,EAAA;EACvD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAACQ,KAAK,CAAC;EACzC,MAAMI,GAAG,GAAGV,MAAM,CAAC,CAAC;EACpB,MAAMW,OAAO,GAAGX,MAAM,CAAC,KAAK,CAAC;EAE7BD,SAAS,CAAC,MAAM;IACd,MAAMa,QAAQ,GAAG,IAAIC,oBAAoB,CACvC,CAAC,CAACC,KAAK,CAAC,KAAK;MACX,IAAIA,KAAK,CAACC,cAAc,IAAI,CAACJ,OAAO,CAACK,OAAO,EAAE;QAC5CL,OAAO,CAACK,OAAO,GAAG,IAAI;QACtB,IAAIA,OAAO,GAAGV,KAAK;QACnB,MAAMW,GAAG,GAAGC,UAAU,CAACd,MAAM,CAAC;QAC9B,MAAMe,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACJ,GAAG,GAAGX,KAAK,CAAC;QACxC,MAAMgB,QAAQ,GAAGF,IAAI,CAACC,GAAG,CAACD,IAAI,CAACG,KAAK,CAAClB,QAAQ,GAAGc,UAAU,CAAC,CAAC;QAE5D,MAAMK,KAAK,GAAGC,WAAW,CAAC,MAAM;UAC9BT,OAAO,IAAI,CAAC;UACZP,QAAQ,CAAC,MAAM;YACb,IAAIO,OAAO,IAAIC,GAAG,EAAE;cAClBS,aAAa,CAACF,KAAK,CAAC;cACpB,OAAOP,GAAG;YACZ;YACA,OAAOD,OAAO;UAChB,CAAC,CAAC;QACJ,CAAC,EAAEM,QAAQ,CAAC;MACd;IACF,CAAC,EACD;MAAEK,SAAS,EAAE;IAAI,CACnB,CAAC;IAED,IAAIjB,GAAG,CAACM,OAAO,EAAE;MACfJ,QAAQ,CAACgB,OAAO,CAAClB,GAAG,CAACM,OAAO,CAAC;IAC/B;IAEA,OAAO,MAAM;MACX,IAAIN,GAAG,CAACM,OAAO,EAAE;QACfJ,QAAQ,CAACiB,SAAS,CAACnB,GAAG,CAACM,OAAO,CAAC;MACjC;IACF,CAAC;EACH,CAAC,EAAE,CAACZ,MAAM,EAAEC,QAAQ,EAAEC,KAAK,CAAC,CAAC;EAE7B,oBACEJ,OAAA;IAAQQ,GAAG,EAAEA,GAAI;IAACoB,SAAS,EAAC,SAAS;IAAAC,QAAA,EAClCC,MAAM,CAACC,SAAS,CAAC7B,MAAM,CAAC,GAAGgB,IAAI,CAACG,KAAK,CAACf,KAAK,CAAC,GAAGA,KAAK,CAAC0B,OAAO,CAAC,CAAC;EAAC;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1D,CAAC;AAEb;AAAC/B,EAAA,CA9CQJ,OAAO;AAAAoC,EAAA,GAAPpC,OAAO;AAiDhB,eAAeA,OAAO;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}