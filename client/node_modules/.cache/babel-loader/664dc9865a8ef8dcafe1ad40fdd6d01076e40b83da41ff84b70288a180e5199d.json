{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\muki_\\\\atelier-noir\\\\client\\\\src\\\\components\\\\counter.js\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Counter({\n  target,\n  duration = 2000,\n  start = 0\n}) {\n  _s();\n  const [count, setCount] = useState(start);\n  const ref = useRef();\n  const started = useRef(false);\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting && !started.current) {\n        started.current = true;\n        let current = start;\n        const end = parseFloat(target);\n        const totalSteps = Math.abs(end - start);\n        const stepTime = Math.abs(Math.floor(duration / totalSteps));\n        const timer = setInterval(() => {\n          current += 1;\n          setCount(() => {\n            if (current >= end) {\n              clearInterval(timer);\n              return end;\n            }\n            return current;\n          });\n        }, stepTime);\n      }\n    }, {\n      threshold: 0.5\n    });\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      if (ref.current) {\n        observer.unobserve(ref.current);\n      }\n    };\n  }, [target, duration, start]);\n  return /*#__PURE__*/_jsxDEV(\"strong\", {\n    ref: ref,\n    className: \"counter\",\n    children: Number.isInteger(target) ? Math.floor(count) : count.toFixed(1)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(Counter, \"xtH5ZcW46DDx7z6NgAaOrwNMtj4=\");\n_c = Counter;\nvar _c;\n$RefreshReg$(_c, \"Counter\");","map":{"version":3,"names":["Counter","target","duration","start","_s","count","setCount","useState","ref","useRef","started","useEffect","observer","IntersectionObserver","entry","isIntersecting","current","end","parseFloat","totalSteps","Math","abs","stepTime","floor","timer","setInterval","clearInterval","threshold","observe","unobserve","_jsxDEV","className","children","Number","isInteger","toFixed","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/muki_/atelier-noir/client/src/components/counter.js"],"sourcesContent":["function Counter({ target, duration = 2000, start = 0 }) {\r\n  const [count, setCount] = useState(start);\r\n  const ref = useRef();\r\n  const started = useRef(false);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting && !started.current) {\r\n          started.current = true;\r\n          let current = start;\r\n          const end = parseFloat(target);\r\n          const totalSteps = Math.abs(end - start);\r\n          const stepTime = Math.abs(Math.floor(duration / totalSteps));\r\n\r\n          const timer = setInterval(() => {\r\n            current += 1;\r\n            setCount(() => {\r\n              if (current >= end) {\r\n                clearInterval(timer);\r\n                return end;\r\n              }\r\n              return current;\r\n            });\r\n          }, stepTime);\r\n        }\r\n      },\r\n      { threshold: 0.5 }\r\n    );\r\n\r\n    if (ref.current) {\r\n      observer.observe(ref.current);\r\n    }\r\n\r\n    return () => {\r\n      if (ref.current) {\r\n        observer.unobserve(ref.current);\r\n      }\r\n    };\r\n  }, [target, duration, start]);\r\n\r\n  return (\r\n    <strong ref={ref} className=\"counter\">\r\n      {Number.isInteger(target) ? Math.floor(count) : count.toFixed(1)}\r\n    </strong>\r\n  );\r\n}\r\n"],"mappings":";;;AAAA,SAASA,OAAOA,CAAC;EAAEC,MAAM;EAAEC,QAAQ,GAAG,IAAI;EAAEC,KAAK,GAAG;AAAE,CAAC,EAAE;EAAAC,EAAA;EACvD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGC,QAAQ,CAACJ,KAAK,CAAC;EACzC,MAAMK,GAAG,GAAGC,MAAM,CAAC,CAAC;EACpB,MAAMC,OAAO,GAAGD,MAAM,CAAC,KAAK,CAAC;EAE7BE,SAAS,CAAC,MAAM;IACd,MAAMC,QAAQ,GAAG,IAAIC,oBAAoB,CACvC,CAAC,CAACC,KAAK,CAAC,KAAK;MACX,IAAIA,KAAK,CAACC,cAAc,IAAI,CAACL,OAAO,CAACM,OAAO,EAAE;QAC5CN,OAAO,CAACM,OAAO,GAAG,IAAI;QACtB,IAAIA,OAAO,GAAGb,KAAK;QACnB,MAAMc,GAAG,GAAGC,UAAU,CAACjB,MAAM,CAAC;QAC9B,MAAMkB,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACJ,GAAG,GAAGd,KAAK,CAAC;QACxC,MAAMmB,QAAQ,GAAGF,IAAI,CAACC,GAAG,CAACD,IAAI,CAACG,KAAK,CAACrB,QAAQ,GAAGiB,UAAU,CAAC,CAAC;QAE5D,MAAMK,KAAK,GAAGC,WAAW,CAAC,MAAM;UAC9BT,OAAO,IAAI,CAAC;UACZV,QAAQ,CAAC,MAAM;YACb,IAAIU,OAAO,IAAIC,GAAG,EAAE;cAClBS,aAAa,CAACF,KAAK,CAAC;cACpB,OAAOP,GAAG;YACZ;YACA,OAAOD,OAAO;UAChB,CAAC,CAAC;QACJ,CAAC,EAAEM,QAAQ,CAAC;MACd;IACF,CAAC,EACD;MAAEK,SAAS,EAAE;IAAI,CACnB,CAAC;IAED,IAAInB,GAAG,CAACQ,OAAO,EAAE;MACfJ,QAAQ,CAACgB,OAAO,CAACpB,GAAG,CAACQ,OAAO,CAAC;IAC/B;IAEA,OAAO,MAAM;MACX,IAAIR,GAAG,CAACQ,OAAO,EAAE;QACfJ,QAAQ,CAACiB,SAAS,CAACrB,GAAG,CAACQ,OAAO,CAAC;MACjC;IACF,CAAC;EACH,CAAC,EAAE,CAACf,MAAM,EAAEC,QAAQ,EAAEC,KAAK,CAAC,CAAC;EAE7B,oBACE2B,OAAA;IAAQtB,GAAG,EAAEA,GAAI;IAACuB,SAAS,EAAC,SAAS;IAAAC,QAAA,EAClCC,MAAM,CAACC,SAAS,CAACjC,MAAM,CAAC,GAAGmB,IAAI,CAACG,KAAK,CAAClB,KAAK,CAAC,GAAGA,KAAK,CAAC8B,OAAO,CAAC,CAAC;EAAC;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1D,CAAC;AAEb;AAACnC,EAAA,CA9CQJ,OAAO;AAAAwC,EAAA,GAAPxC,OAAO;AAAA,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}